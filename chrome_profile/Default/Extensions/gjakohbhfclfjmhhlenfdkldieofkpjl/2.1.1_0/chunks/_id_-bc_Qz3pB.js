import{d as v,Q as k,E as y,h as P,j as m,u as o,S as C,v as S,o as g,b as d,C as l,q as x,t as c,_ as u,I as h}from"./popup-Bk9gj0yf.js";import{i as b}from"./tiny-invariant-CopsF_GD.js";import{t as w}from"./_virtual_wxt-plugins-DHgd7gkO.js";import{_ as B}from"./Layout.vue_vue_type_script_setup_true_lang-C5qoieID.js";import"./ProxyNameTextfield.vue_vue_type_script_setup_true_lang-BJ1vzIl5.js";import"./Popup.vue_vue_type_script_setup_true_lang-JHYm3gwT.js";import"./TooltipIcon-CmPyCcbT.js";const D=k("/proxies/manual/[id]",{key:i=>["edit-proxy-manual",i.params.id],query:async i=>{const t=i.params.id,s=y().proxies.find(n=>n.id===t);return!s||s.type!=="manual"?new C({name:"/"}):s},staleTime:0}),T=v({__name:"[id]",setup(i){const{data:t}=D(),r=y(),s=S(),n=e=>{w("proxy_profile_edited",{proxy_type:"manual",changes_made:e})},f=e=>{const a=r.proxies.findIndex(_=>_.id===t.value.id),p=r.proxies[a];b(p),r.proxies[a]={...p,name:e.name,proxy:e.proxy},n(!0),s.push({name:"/"})};return(e,a)=>(g(),P(B,{title:("m"in e?e.m:o(u)).extensionEditProxy(),data:{name:o(t).name,proxy:o(t).proxy},onBack:a[1]||(a[1]=p=>n(!1)),onSubmit:f},{actions:m(()=>[d(o(l),{"color-scheme":"error",kind:"text",size:"s",onClick:a[0]||(a[0]=()=>{o(r).removeProxy(o(t).id),o(s).push("/")})},{default:m(()=>[d(o(h),{type:"trash",class:"size-16"}),x(" "+c(("m"in e?e.m:o(u)).extensionsProxiesDelete()),1)]),_:1})]),default:m(()=>[d(o(l),{type:"submit",class:"w-full"},{default:m(()=>[x(c(("m"in e?e.m:o(u)).commonSave()),1)]),_:1})]),_:1},8,["title","data"]))}});export{T as default,D as usePageData};
